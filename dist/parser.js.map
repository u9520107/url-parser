{"version":3,"file":"parser.js","sources":["parser.js","@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/4","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/3"],"names":[],"mappings":"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","sourcesContent":["/* function parse (path)\n *\t@param path the path and query string after the domain and port\n *\n */\n\n\nvar obj = {\n\tname: '',\n\tparam: {\n\n\t\tarray: [],\n\t\tbool: true,\n\t\tstring: 'string',\n\t\tempty: ''\n\t}\n};\n\n\n\n\nfunction stringify(cmds) {\n\tif (!Array.isArray(cmds)) {\n\t\tcmds = [cmds];\n\t}\n\tvar resources = [];\n\tcmds.forEach(function(cmd) {\n\t\tvar tmp = [];\n\t\tvar name = cmd.name || '';\n\t\tif (cmd.param) {\n\t\t\tfor (var key in cmd.param) {\n\t\t\t\tif (cmd.param[key] === true) {\n\t\t\t\t\ttmp.push(key);\n\t\t\t\t} else if (Array.isArray(cmd.param[key])) {\n\t\t\t\t\ttmp.push(key + '[]=' + encodeURIComponent( cmd.param[key].join(',')));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttmp.push(key + '=' + encodeURIComponent(cmd.param[key]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\ttmp = tmp.length > 0 ? ('?' + tmp.join('&')) : '';\n\t\tresources.push(name + tmp);\n\t});\n\treturn '/' + resources.join('/');\n}\n\n//\"/name?w[]=test,dsf&c=teset&d\"\n\nfunction parse(path) {\n\tconsole.log('parsing: %s', path);\n\tvar cmds = [];\n\tif(path) {\n\t\tvar resources = path.split('/');\n\t\tresources.forEach(function (resource) {\n\t\t\tif(resource==='' ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar cmd = {\n\t\t\t\tparam: {}\n\t\t\t};\n\t\t\tif(resource.indexOf('?') > -1){\n\t\t\t\tresource = resource.split('?');\n\t\t\t\tcmd.name = resource[0];\n\t\t\t\tvar params = resource[1].split('&');\n\t\t\t\tparams.forEach(function (param) {\n\t\t\t\t\tif(param.indexOf('=')>-1) {\n\t\t\t\t\t\tparam = param.split('=');\n\t\t\t\t\t\tif(param[0].indexOf('[]')> - 1) {\n\t\t\t\t\t\t\tcmd.param[param[0].substring(0, param[0].length -2)] = decodeURIComponent(param[1]).split(',');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcmd.param[param[0]] = decodeURIComponent(param[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcmd.param[param] = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcmd.name = resource;\n\t\t\t}\n\t\t\tcmds.push(cmd);\n\t\t});\n\t}\n\treturn cmds;\n}\n\n\n\nexport {\n\tparse,\n\tstringify\n};\n","Object.defineProperties(exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;"]}