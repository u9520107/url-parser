{"version":3,"file":"parser.js","sources":["parser.js","@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/4","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/3"],"names":[],"mappings":"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","sourcesContent":["\r\n/* function parse (path)\r\n *\t@param path the path and query string after the domain and port\r\n *\r\n */\r\n\r\n\r\nfunction parse (path) {\r\n\tvar commands = [];\r\n\tif(!path) {\r\n\t\treturn commands;\r\n\t}\r\n\tvar resources = path.split('/');\r\n\tresources.forEach(function (resource) {\r\n\t\tif(resource=='') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar obj = {};\r\n\t\tif(resource.indexOf('?')>-1) {\r\n\r\n\t\t\tvar tokens = resource.split('?');\r\n\t\t\tif(tokens[0]!==''){\r\n\t\t\t\tobj.name = tokens[0];\r\n\t\t\t}\r\n\t\t\ttokens = tokens[1].split('&');\r\n\t\t\ttokens.forEach(function (token) {\r\n\t\t\t\tvar idx = token.indexOf('=');\r\n\t\t\t\tif(idx > -1) {\r\n\t\t\t\t\tobj[token.substr(0, idx)] = token.substr(idx+1).split(',');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tobj[token] = true;\r\n\t\t\t\t}\r\n\t\t\t});\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tobj.name = resource;\r\n\t\t}\r\n\t\tcommands.push(obj);\r\n\t});\r\n\treturn commands;\r\n}\r\n\r\nfunction stringify (commands) {\r\n\tvar resources = [];\r\n\tif(!Array.isArray(commands)) {\r\n\t\tthrow new Error('commands must be an array');\r\n\t}\r\n\tcommands.forEach(function (command) {\r\n\t\tvar tmp = [];\t\r\n\t\tfor(var key in command) {\r\n\t\t\tif(key!=='name') {\r\n\t\t\t\tif(command[key]===true) {\r\n\t\t\t\t\ttmp.push(key);\t\r\n\t\t\t\t}\r\n\t\t\t\telse if(Array.isArray(command[key])) {\r\n\t\t\t\t\ttmp.push(key + '=' + command[key].join(','));\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttmp.push(key + '=' + command[key]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\ttmp = tmp.length > 0 ? ('?'+tmp.join('&')) : '';\r\n\t\tresources.push((command.name ? command.name : '') + tmp);\r\n\t});\r\n\treturn '/' + resources.join('/');\r\n}\r\n\r\nexport {\r\n\tparse,\r\n\tstringify\r\n};\r\n","Object.defineProperties(exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;"]}